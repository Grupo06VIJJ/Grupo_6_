<!DOCTYPE html>
<html lang="es">

<%- include("../partials/head.ejs")%>

    <body>
        <%- include("../partials/header.ejs")%>
            <!-- contenedor -->
            <div class="container">

                <!-- fila -->
                <div class="row">

                    <!-- col -->
                    <div class="col-12">

                        <h1 class="my-5">
                            Listado de productos
                        </h1>

                    </div>

                    <!-- col -->
                    <div class="col-12 mb-5">

                        <% if (productList=="" ) { %>

                            <div class="col-12">
                                <a type="button" class="btn btn-primary my-5 mi-btn" href="/products/create">
                                    Crear producto
                                </a>
                            </div>

                            <% } else{ %>

                                <div class="col-12">
                                    <a type="button" class="btn btn-primary my-5 mi-btn" href="/products/create">
                                        Añadir producto
                                    </a>
                                </div>

                                <% for (let i=0; i< productList.length; i++) {%>

                                    <!-- Tabla -->
                                    <div class="table-responsive">

                                        <table class="table table-striped table-borderless">

                                            <thead class="text-center">
                                                <tr>
                                                    <th scope="col">
                                                        Id
                                                    </th>
                                                    <th scope="col">
                                                        Nombre
                                                    </th>
                                                    <th scope="col">
                                                        Descripción
                                                    </th>
                                                    <th scope="col">
                                                        Imagen
                                                    </th>
                                                    <th scope="col">
                                                        Categoría
                                                    </th>
                                                    <th scope="col">
                                                        Tamaño de la maceta
                                                    </th>
                                                    <th scope="col">
                                                        Precio
                                                    </th>
                                                    <th scope="col">
                                                        Editar
                                                    </th>
                                                    <th scope="col">
                                                        Borrar
                                                    </th>
                                                </tr>
                                            </thead>

                                            <tbody class="text-center">
                                                <tr>
                                                    <th scope="row">
                                                        <%= productList[i].id %>
                                                    </th>
                                                    <td>
                                                        <%= productList[i].name %>
                                                    </td>
                                                    <td>
                                                        <%= productList[i].desc %>
                                                    </td>
                                                    <td>
                                                        <% productList[i].img %>
                                                    </td>
                                                    <td>
                                                        <% productList[i].category %>
                                                    </td>
                                                    <td>
                                                        <%= productList[i].size %>
                                                    </td>

                                                    <td>
                                                        <%= productList[i].price %>
                                                    </td>

                                                    <td>
                                                        <form action="/products/<%=productList[i].id %>/update" method="GET">
                                                            <button type="submit" class="btn-accion">
                                                                <i class="btn-accion-icono fas fa-edit"></i>
                                                            </button>
                                                        </form>
                                                    </td>

                                                    <td>
                                                        <form action="/products/<%=productList[i].id %>/delete?_method=delete" method="POST">
                                                            <button type="submit" class="btn-accion">
                                                                <i class="btn-accion-icono fas fa-trash-alt"></i>
                                                            </button>
                                                        </form>
                                                    </td>
                                                    <% } %>

                                                </tr>

                                            </tbody>

                                        </table>

                                    </div>
                                    <!-- Tabla -->
                                    <% } %>
                    </div>
                    <!-- col -->

                </div>
                <!-- fila -->

                <div class="col-12">
                    <a type="button" class="btn btn-primary my-5 mi-btn" href="/">
                        Inicio
                    </a>
                </div>
            </div>
            <!-- contenedor -->

            <%- include("../partials/footer.ejs")%>

                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    </body>

</html>